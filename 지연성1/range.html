<script src="../ind.html"></script>

<script>
  const log = console.log;
</script>

<script>
  console.clear();
  const num = [1, 2, 3, 4, 5];
  const reduce = (f, acc, iter) => {
    if (!iter) {
      iter = acc[Symbol.iterator]();
      acc = iter.next().value;
    }
    for (const p of iter) {
      acc = f(acc, p);
    }
    return acc;
  };
</script>

<!-- range -->
<script>
  const add = (a, b) => a + b;
  const range = (l) => {
    let i = -1;
    let res = [];
    while (++i < l) {
      res.push(i);
    }
    return res;
  };

  var list = range(4); // 배열로 완전히 평가
  log(list); // 배열출력
  log(reduce(add, list));
</script>

<!-- 느긋한 L.reage -->
<script>
  const L = {};

  L.range = function* (l) {
    let i = -1;
    while (++i < l) {
      yield i;
    }
  };
  var list = L.range(4);
  log(list); // 이터레이터 출력 //배열을 만들지 않고 값을 꺼냄
  log(reduce(add, list));
  console.clear();
</script>

<!-- take -->
<script>
  const take = (l, iter) => {
    let res = [];
    for (const a of iter) {
      res.push(a);
      if (res.length == l) return res;
    }
    return res;
  };
  log(take(5, L.range(100)));
</script>
